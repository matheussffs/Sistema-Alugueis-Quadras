<ui:composition template="/templates/pagina.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

	<ui:define name="title">
        Minha Conta
    </ui:define>

	<ui:define name="content">

		<h:form id="formMinhaConta">
			<p:growl id="mensagem" life="4000" />

			<p:panelGrid columns="2" layout="grid" style="margin-top:20px;"
				styleClass="ui-panelgrid-blank">

				<p:panel header="Meus Dados" style="height: 100%;">

					<p:panelGrid id="pnlDados" columns="2" layout="grid"
						styleClass="ui-panelgrid-blank" columnClasses="ui-g-4, ui-g-8">

						<h:outputLabel for="nome" value="Nome:" />
						<p:inputText id="nome" value="#{minhaContaBean.usuario.userNome}"
							required="true" />

						<h:outputLabel for="email" value="E-mail:" />
						<p:inputText id="email"
							value="#{minhaContaBean.usuario.userEmail}" readonly="true" />

						<h:outputLabel for="cpf" value="CPF:" />
						<p:inputMask id="cpf" value="#{minhaContaBean.usuario.userCpf}"
							mask="999.999.999-99" readonly="true" />

						<h:outputLabel for="telefone" value="Telefone:" />
						<p:inputMask id="telefone"
							value="#{minhaContaBean.usuario.userTelefone}"
							mask="(99) 99999-9999" required="true" />

					</p:panelGrid>

					<p:separator />

					<p:commandButton value="Salvar Dados" icon="pi pi-save"
						action="#{minhaContaBean.salvarDados}" process="@this pnlDados"
						update="pnlDados :formMinhaConta:mensagem :formTemplateTopbar" />

				</p:panel>

				<p:panel header="Alterar Senha" style="height: 100%;">

					<p:panelGrid id="pnlSenha" columns="2" layout="grid"
						styleClass="ui-panelgrid-blank" columnClasses="ui-g-4, ui-g-8">

						<h:outputLabel for="senhaAtual" value="Senha Atual:" />
						<p:password id="senhaAtual" value="#{minhaContaBean.senhaAtual}"
							required="true" toggleMask="true" />

						<h:outputLabel for="novaSenha" value="Nova Senha:" />
						<p:password id="novaSenha" value="#{minhaContaBean.novaSenha}"
							required="true" toggleMask="true" feedback="true"
							placeholder="MÃ­n. 8 caracteres" />

						<h:outputLabel for="confSenha" value="Confirmar Senha:" />
						<p:password id="confSenha"
							value="#{minhaContaBean.confirmacaoNovaSenha}" required="true"
							toggleMask="true" />

					</p:panelGrid>

					<p:separator />

					<p:commandButton value="Alterar Senha" icon="pi pi-key"
						action="#{minhaContaBean.alterarSenha}"
						styleClass="p-button-warning" process="@this pnlSenha"
						update="pnlSenha :formMinhaConta:mensagem" />

				</p:panel>

			</p:panelGrid>
		</h:form>
	</ui:define>
</ui:composition>