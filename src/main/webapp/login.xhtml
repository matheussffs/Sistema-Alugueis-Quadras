<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
	<title>Login - Flash Quadras</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<h:outputStylesheet library="css" name="main.css" />
	<h:outputStylesheet library="css" name="estiloLogin.css" />
	<h:outputScript library="js" name="primefacesLocale.js" />

	<style>
html, body {
	height: 100%;
	margin: 0;
	padding: 0;
	min-height: 100vh;
}

body {
	background-color: #10B981;
	background-image: linear-gradient(135deg, #065F46 0%, #10B981 100%);
	background-size: cover;
	background-attachment: fixed;
	display: flex;
	justify-content: center;
	align-items: center;
	position: relative;
}

.home-link {
	position: absolute;
	top: 30px;
	left: 40px;
	text-decoration: none;
	color: #ffffff;
	display: flex;
	align-items: center;
	z-index: 1000;
	transition: opacity 0.2s, transform 0.2s;
}

.home-link:hover {
	opacity: 0.9;
	transform: translateY(-2px);
}

.logo-text {
	font-size: 1.5rem;
	font-weight: 700;
	font-family: 'Inter', sans-serif;
	margin-left: 8px;
}

@media ( max-width : 600px) {
	.home-link {
		top: 15px;
		left: 15px;
	}
	.logo-text {
		font-size: 1.2rem;
	}
}

.divBody {
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
	flex-grow: 1;
}

.divLogin {
	background-color: #FFFFFF;
	padding: 2.5rem;
	border-radius: 12px;
	box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
	max-width: 400px;
	width: 90%;
	text-align: center;
}

.btnLogin {
	background-color: #10B981 !important;
	color: #fff !important;
	border: none !important;
	padding: 12px;
	border-radius: 25px !important;
	cursor: pointer;
	font-size: 1em;
	font-weight: bold;
	transition: background-color 0.4s ease, transform 0.4s ease !important;
	width: 100%;
	margin-top: 10px;
}

.btnLogin:hover {
	background-color: #059669 !important;
	transform: scale(1.02);
}

.ui-button.btnLogin {
	background: #10B981 !important;
	border: none !important;
	color: #FFFFFF !important;
	border-radius: 25px !important;
}

.btnCadastro {
	width: 100%;
	background-color: #10B981 !important;
	border-color: #10B981 !important;
	color: #fff !important;
	border-radius: 25px !important;
	padding: 12px;
	font-weight: bold;
	font-size: 1em;
	transition: background-color 0.4s ease, transform 0.4s ease !important;
}

.btnCadastro:hover {
	background-color: #059669 !important;
	border-color: #059669 !important;
	transform: scale(1.02);
	text-decoration: none;
}

.ui-button.btnCadastro {
	background: #10B981 !important;
	border: none !important;
	color: #FFFFFF !important;
	border-radius: 25px !important;
}
div ~ a {
	text-align: center;
}

.ui-panelgrid-cell, .ui-inputtext, .ui-inputtextarea, .ui-panelgrid,
	.ui-panelgrid tbody, .ui-password, .ui-inputfield {
	width: 100%;
}

.link-esqueci {
	display: block;
	text-align: center;
	margin-top: 15px;
	font-size: 14px;
	color: #0EA5E9;
	text-decoration: none;
}

.link-esqueci:hover {
	text-decoration: underline;
}

.tituloTexto {
	font-size: 1.8rem;
	font-weight: 700;
	color: #333;
	margin-bottom: 20px;
	display: block;
}

.padPg.pgWidth {
	padding: 0;
	margin-bottom: 15px;
}

.padPg.pgWidth:last-of-type {
	margin-bottom: 0;
}
</style>
</h:head>

<h:body>

	<a href="#{request.contextPath}/landing.xhtml" class="home-link"> <span
		style="font-size: 2rem; vertical-align: middle;">&#128197;</span> <span
		class="logo-text">Flash Quadras</span>
	</a>

	<div class="divBody">
		<h:form id="form1">

			<p:growl id="mensagem" life="5000" autoUpdate="true" />

			<div class="divLogin">
				<p:panelGrid columns="1" layout="grid">
					<p:panelGrid columns="1" styleClass="padPg pgWidth pnTitulo">
						<p:outputLabel value="Realize o Login!" styleClass="tituloTexto" />
					</p:panelGrid>

					<p:panelGrid columns="1" styleClass="padPg pgWidth">
						<p:outputLabel value="CPF" for="usuario" />
						<p:inputMask id="usuario" value="#{loginBean.cpf}"
							styleClass="stInput" placeholder="Informe seu CPF"
							mask="999.999.999-99" />
					</p:panelGrid>

					<p:panelGrid columns="1" styleClass="padPg pgWidth">
						<p:outputLabel value="Senha" for="senha" />
						<p:password id="senha" value="#{loginBean.senha}"
							toggleMask="true" styleClass="stInput"
							placeholder="Informe sua senha" />
					</p:panelGrid>

					<p:panelGrid columns="1" styleClass="padPg pgWidth">
						<p:commandButton value="Login"
							actionListener="#{loginBean.doLogin()}" styleClass="btnLogin"
							process="@form" update="@form" icon="pi pi-sign-in" ajax="false" />
					</p:panelGrid>

					<p:panelGrid columns="1" styleClass="padPg pgWidth">
						<p:button value="Cadastrar-se" icon="pi pi-user-plus"
							outcome="/publico/cadastros/cadastro-cliente.xhtml"
							styleClass="btnCadastro ui-button-secondary" />
					</p:panelGrid>

					<p:commandLink value="Esqueci minha senha"
						actionListener="#{loginBean.abrirDialogEsqueciMinhaSenha}"
						styleClass="link-esqueci" process="@this" update=":formEsqueci"
						oncomplete="PF('wvDlgEsqueciMinhaSenha').show()" />

				</p:panelGrid>
			</div>
		</h:form>

		<p:dialog header="Recuperar Senha" widgetVar="wvDlgEsqueciMinhaSenha"
			modal="true" resizable="false" closable="true" width="450px">

			<h:form id="formEsqueci">
				<p:growl id="msgDialog" life="5000" />
				<p:panelGrid columns="1" layout="grid"
					styleClass="ui-panelgrid-blank">

					<p:outputLabel
						value="Para recuperar sua senha, confirme seu CPF e Telefone cadastrados."
						style="margin-bottom: 15px;" />

					<h:outputLabel for="cpfEsqueci" value="Seu CPF:" />
					<p:inputMask id="cpfEsqueci" value="#{loginBean.cpf}"
						mask="999.999.999-99" required="true" />

					<h:outputLabel for="telEsqueci" value="Seu Telefone (c/ DDD):"
						style="margin-top: 10px;" />
					<p:inputMask id="telEsqueci" value="#{loginBean.telefone}"
						mask="(99) 99999-9999" required="true" />

					<p:separator style="margin-top: 15px;" />

					<h:outputLabel for="novaSenha"
						value="Nova Senha (mÃ­n. 8 caracteres):" />
					<p:password id="novaSenha" value="#{loginBean.novaSenha}"
						toggleMask="true" feedback="true" required="true" />

					<h:outputLabel for="confSenha" value="Confirme a Nova Senha:"
						style="margin-top: 10px;" />
					<p:password id="confSenha"
						value="#{loginBean.confirmacaoNovaSenha}" toggleMask="true"
						required="true" />

				</p:panelGrid>

				<p:separator />

				<p:commandButton value="Alterar Senha" icon="pi pi-check"
					actionListener="#{loginBean.alterarSenha}" process="@form"
					update="@form :form1:mensagem" />

			</h:form>
		</p:dialog>

	</div>
</h:body>
</html>